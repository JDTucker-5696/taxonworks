<div id="header-box">
  <div class="flexbox">
    <div class="item item1">
      <div class="section">
        <div class="tag title">
          Listing taxon names
        </div>      
        <div class="navigation-controls">
          <div class="item1 pagination-controls"> 
            <div>
              <%= paginate @taxon_names %> <%= page_entries_info @taxon_names %>
            </div>
            <div class="link">                  
              <a href="#"><img src="/assets/icons/download.svg">Download</a>
            </div>
          </div>       
        </div> 
      </div>
    </div>
    <div class="item item2">
      <div class="section">
        <div class="tag title show">
          Display
        </div>      
        <div class="navigation-controls">
          <div class="navigation" data-filter-active="true" data-group="metadata"> 
            <img src="/assets/icons/show.svg"/>Type
          </div>   
          <div class="navigation" data-filter-active="true" data-group="publication"> 
            <img src="/assets/icons/show.svg"/>Source
          </div> 
          <div class="navigation" data-filter-active="true" data-group="housekeeping"> 
            <img src="/assets/icons/show.svg"/>Housekeeping   
          </div> 
          <div class="navigation" data-display="showAll"> 
            <img src="/assets/icons/show.svg"/>Show all
          </div>                                                 
        </div> 
      </div>      
    </div>
  </div>
</div>
<table cellspacing="0" id="list" class="tablesorter">
  <thead>
    <tr>
      <%= fancy_th_tag(name: 'Name', filter: :name) -%> 
      <%= fancy_th_tag(name: 'Parent', filter: :name) -%> 
      <%= fancy_th_tag(name: 'Cached name', filter: :name) -%> 
      <%= fancy_th_tag(name: 'Source', filter: :name, group: 'publication') -%> 
      <%= fancy_th_tag(name: 'Year of publication', filter: :name, group: 'publication') -%> 
      <%= fancy_th_tag(name: 'Verbatim author', filter: :name) -%>
      <%= fancy_th_tag(name: 'Rank', filter: :name) -%>
      <%= fancy_th_tag(name: 'Type', filter: :name, group: 'metadata') -%>
      <%= fancy_th_tag(name: 'Updated by', filter: :name, group: 'housekeeping') -%>
      <%= fancy_th_tag(name: 'Last updated', filter: :name, group: 'housekeeping') -%>
    </tr>
  </thead>
  <tbody>
    <% @taxon_names.each do |taxon_name| %>
      <tr class="context-menu-one btn btn-neutral">
        <%= content_tag(:td, taxon_name.name, data: { }) %>
        <%= content_tag(:td, object_tag(taxon_name.parent), data: { }) %>
        <%= content_tag(:td, (taxon_name.cached_html.html_safe ? taxon_name.cached_html.html_safe : content_tag(:em, 'ERROR: not rendered',  class: :warning)), data: { }) %>
        <%= content_tag(:td, object_tag(taxon_name.source), data: { filter: 'yearPublication', group: :publication })%>
        <%= content_tag(:td, taxon_name.year_of_publication, data: { filter: 'yearPublication', group: :publication })%>
        <%= content_tag(:td, taxon_name.verbatim_author, data: { }) %>
        <%= content_tag(:td, taxon_name.rank, data: { }) %>
        <%= content_tag(:td, taxon_name.type, data: { filter: 'metadata', group: :metadata }) %>
        <%= content_tag(:td, object_tag(taxon_name.updater), data: { filter: 'housekeeping', group: :housekeeping }) %>
        <%= content_tag(:td, object_time_since_update_tag(taxon_name), data: { filter: 'housekeeping', group: :housekeeping }) %>
        <!-- Hidden action links ---->
        <%= content_tag(:td, (link_to 'Show', taxon_name.metamorphosize), class: 'table-options', data_show: '') %>
        <%= content_tag(:td, edit_object_link(taxon_name), class: 'table-options', data_edit: '') %>
        <%= content_tag(:td, (link_to 'Destroy', taxon_name.metamorphosize, method: :delete, data: {confirm: 'Are you sure?'}), class: 'table-options', data_delete: '') %>
      </tr>
    <% end %>
  </tbody>
</table>
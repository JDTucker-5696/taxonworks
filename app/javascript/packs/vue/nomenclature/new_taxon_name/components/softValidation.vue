<template>
	<div v-if="checkSoftValidation()" :class="{ 'validation-warning' : errors }" class="panel content soft-validation-box">
		<div class="header flex-separate">
			<h3>Soft Validation</h3> 
		</div>
		<div class="body">
			<div v-for="key in Object.keys(errors)" v-if="errors[key].list.length">
				<hr>
				<h3>{{ errors[key].title }}</h3>
				<hr>
				<ul class="no_bullets">
					<li v-for="error in errors[key].list"> 
						<span data-icon="warning"></span><span v-html="error.message"></span>
					</li>
				</ul>
			</div>
		</div>
	</div>
</template>

<script>

const GetterNames = require('../store/getters/getters').GetterNames;
const MutationNames = require('../store/mutations/mutations').MutationNames;

export default {
	computed: {
		errors() {
			return this.$store.getters[GetterNames.GetSoftValidation]
		},
	},
	methods: {
		checkSoftValidation: function() {
			return (this.errors.taxon_name.list.length || this.errors.taxonStatusList.list.length || this.errors.taxonRelationshipList.list.length)
		}
	}
}
</script>
<style type="text/css">
	.soft-validation-box.validation-warning {
		border-left: 4px solid #ff8c00;
	}
	.soft-validation-box {
		background-color: #FFF9F9;		
		.body {
			padding: 12px;
		}
		.header {
			padding-left: 12px;
			padding-right: 12px;
		}
		ul {
			margin: 0px;
			padding: 0px;
		}
		li {
			margin-top: 12px;
		}
		li:first-letter {
			text-transform: capitalize;
		}
	}
</style>
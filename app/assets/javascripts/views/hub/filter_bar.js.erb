$(document).ready(function() {
  if($("#filter").length) {
    initFilterBar();
  }
});

function initFilterBar() {
	$('[data-filter-category="taxon_name"]').prepend('<img src="<%= asset_path("new.svg") %>"/>');
	$('[data-filter-category="source"]').prepend('<img src="<%= asset_path("book.svg") %>"/>');
	$('[data-filter-category="collection_object"]').prepend('<img src="<%= asset_path("picking.svg") %>"/>');
  $('[data-filter-category="collecting_event"]').prepend('<img src="<%= asset_path("geo_location.svg") %>"/>'); 
  $('[data-filter-category="biology"]').prepend('<img src="<%= asset_path("biology.svg") %>"/>'); 

  function deactivateBackgroundColorLink(selector) {
  $(selector).removeClass("activated");
  }

  function activateBackgroundColorLink(selector) {
    $(selector).addClass("activated");
  }

  function changeBackgroundColorLink(selector) {
    if ($(selector).hasClass("activated")) {
      deactivateBackgroundColorLink(selector);
    }
    else {
      activateBackgroundColorLink(selector);
      }
  }
   $('#filter [data-filter-category]').on('click', function() {
    changeBackgroundColorLink('[data-filter-category="'+ $(this).attr("data-filter-category") +'"]');
   }); 

  $('#filter [data-filter-category="reset"]').on('click', function() {
      deactivateBackgroundColorLink('[data-filter-category]');
  });     
}

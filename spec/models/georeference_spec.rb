require 'spec_helper'

describe Georeference do

  let(:georeference) { FactoryGirl.build(:georeference) }
  let(:request_params) {
    {country: 'usa', locality: 'champaign', state: 'illinois', doPoly: 'true'}
  }

  context 'validation' do
    before(:each) {
      georeference.save!
    }

    specify '#geographic_item is required' do
      pending 'validation of existance of proper geographic_item'
    end
    specify '#collecting_event is required' do
      pending 'validation of existance of proper collection event'
    end
    specify '#type is required' do
      pending 'information about whet #type is supposed to do'
    end
    specify "#error_geographic_item is required" do
      # <- what did we conclude if no error is provided, just nil? -> will cause issues if so for calculations
      pending 'setting error distance to 3 meters if not provided'
    end

    context 'legal values' do
      specify '#error_radius is < some Earth based limit' do
        pending 'setting error radius to some reasonable distance'
      end
      specify '#error_depth is < some Earth based limit' do
        pending 'setting error depth to some reasonable distance'
      end
      specify 'error_geographic_item.geo_object, when provided, should contain geographic_item.geo_object' do
        pending 'validation of the accceptability of the error geo_object, if provided'
      end
      specify 'collecting_event.geographic_area.geo_object contains self.geographic_item.geo_object or larger than georeference ?!' do
        pending 'determininization of what \'something like this\' means in the context of collecting_event'
      end
    end 
  end


  context 'associations' do
    context 'belongs_to' do

      specify 'geographic_item' do
        expect(georeference).to respond_to :geographic_item
      end

      specify 'error_geographic_item' do
        expect(georeference).to respond_to :error_geographic_item
      end

      specify 'collecting_event' do
        expect(georeference).to respond_to :collecting_event
      end
    end

  end

  context 'scopes' do

    before(:each) { 
      # build some geo-references for testing using existing factories and geometries, something roughly like this 
      @gr1 = FactoryGirl.build(:valid_georeference,
                               #collecting_event: FactoryGirl.build(:valid_collecting_event, locality: 'Some string'),
                               geographic_item: FactoryGirl.build(:geographic_item_with_polygon))    # swap out the polygon with another shape if needed

      # ...
      # @gr2
      # @gr3 
    }

    specify '.within_radius_of(geographic_item, distance)' do
      pending 'determinization of what is intended'
      # Return all Georeferences within some distance of a geographic_item
      # You're just going to use existing scopes in geographic item here, something like:
      # .where{geographic_item_id in GeographicItem.within_radius_of('polygon', geographic_item, distance)}
    end

    specify '.where_in_error_range_of(geographic_item, distance)' do
      pending 'adding #within_error_range of to georeference'
      # same as prior, but
      # .where{geographic_item_error_id: ... } 
    end

    specify '.with_locality_like(String)' do
      pending 'determinization of what is intended'
      # return all Georeferences that are attached to a CollectingEvent that has a verbatim_locality that includes String somewhere
      # Joins collecting_event.rb and matches %String% against verbatim_locality 
    end

    specify '.with_locality(String)' do
      pending 'determinization of what is intended'
      # return all Georeferences that are attached to a CollectingEvent that has a verbatim_locality = String
      # Joins collecting_event.rb and matches String against verbatim_locality,
    end

    specify '.with_geographic_area(geographic_area)' do
      pending 'determinization of what is intended'
      # where{geograhic_item_id: geographic_area.id}
    end
  end

  context 'request responses' do
    specify 'creates a geo_object' do
      c = Georeference::GeoLocate.new(request: request_params)
      c.locate
      c.save
      expect(c.geographic_item.class).to eq(GeographicItem)
      expect(c.geographic_item.geo_object.class).to eq(RGeo::Geographic::ProjectedPointImpl)
    end

    specify 'can be geometrically compared through #geographic_item.geo_object' do
      c_locator = Georeference::GeoLocate.new(request: request_params)
      c_locator.locate
      u_locator = Georeference::GeoLocate.new(request: {country: 'USA', locality: 'Urbana', state: 'IL', doPoly: 'true'})

      c_locator.save
      u_locator.save

      expect(c_locator.error_geographic_item.geo_object.intersects?(u_locator.error_geographic_item.geo_object)).to be_true
      expect(c_locator.geographic_item.geo_object.distance(u_locator.geographic_item.geo_object)).to eq 0.03657760243645799
      expect(c_locator.geographic_item.geo_object.distance(u_locator.error_geographic_item.geo_object)).to eq 0.014470082533135583
      expect(u_locator.geographic_item.geo_object.distance(c_locator.error_geographic_item.geo_object)).to eq 0.021583346308561287
    end
  end


  context 'methods provide that' do
    context 'the object returns a type' do
      specify 'which is GeoLocate' do

        geo_locate = Georeference::GeoLocate.new(request: {country: 'USA', locality: 'Urbana', state: 'IL', doPoly: 'true'})
        geo_locate.build
        geo_locate.save

        expect(geo_locate.type).to eq 'Georeference::GeoLocate'
      end

      specify 'which is Verbatim' do
        georeference = Georeference::VerbatimData.new
        expect(georeference.type).to eq 'Georeference::VerbatimData'
      end
    end

    # TODO: Jim- the method below are largely covered in GeographicItem, we don't need to repeat them here.  Basically if we can do
    # geo_locate.save we know we already have a good object (or should know), the contents of the response at that point are
    # largely irrelevant.
    # TODO: The question here is *not* wether or not the geo_object is valid, but one of precisly *which* object was selected through the geolocate process
    context 'the GeographicItem.geo_object.to_a returns a properly formed array' do
      specify 'for point' do
        geo_locate = Georeference::GeoLocate.new(request: {country: 'USA', locality: 'Urbana', state: 'IL', doPoly: 'true'})
        geo_locate.build
        geo_locate.save

        expect(geo_locate.geographic_item.geo_object.to_s).to eq('POINT (-88.20722 40.11056 0.0)')
      end

      specify 'for line_string' do
        pending 'creation of LineString object from GeoLocate.'
      end

      specify 'for polygon' do
        geo_locate = Georeference::GeoLocate.new(request: {country: 'USA', locality: 'Urbana', state: 'IL', doPoly: 'true'})
        geo_locate.build
        geo_locate.save

        expect(geo_locate.error_geographic_item.geo_object.to_s).to eq('POLYGON ((-88.1855449175 40.1274870207 0.0, -88.1855149175 40.1258740207 0.0, -88.1852939175 40.1258630207 0.0, -88.1852939175 40.1274870207 0.0, -88.1852989175 40.1276220207 0.0, -88.1847869175 40.1276410207 0.0, -88.1847819175 40.1274960207 0.0, -88.1834669175 40.1278430207 0.0, -88.1833849175 40.1278890207 0.0, -88.1833089175 40.1279390207 0.0, -88.1828769175 40.1280440207 0.0, -88.1817829175 40.1270280207 0.0, -88.1820489175 40.1267790207 0.0, -88.1821229175 40.1267140207 0.0, -88.1821269175 40.1265820207 0.0, -88.1824319175 40.1264600207 0.0, -88.1824269175 40.1255230207 0.0, -88.1815349175 40.1255330207 0.0, -88.1813309175 40.1255530207 0.0, -88.1811259175 40.1256610207 0.0, -88.1809899175 40.1257230207 0.0, -88.1809009175 40.1257550207 0.0, -88.1807539175 40.1258080207 0.0, -88.1805519175 40.1258660207 0.0, -88.1794599175 40.1253220207 0.0, -88.1786989175 40.1250000207 0.0, -88.1780289175 40.1248370207 0.0, -88.1771029175 40.1247260207 0.0, -88.1766339175 40.1246410207 0.0, -88.1765559175 40.1249140207 0.0, -88.1764889175 40.1249190207 0.0, -88.1763179175 40.1247660207 0.0, -88.1766209175 40.1240600207 0.0, -88.1763719175 40.1233060207 0.0, -88.1765009175 40.1229870207 0.0, -88.1779919175 40.1234700207 0.0, -88.1780269175 40.1234220207 0.0, -88.1781799175 40.1233910207 0.0, -88.1780459175 40.1233000207 0.0, -88.1780099175 40.1227940207 0.0, -88.1779399175 40.1227250207 0.0, -88.1768199175 40.1205590207 0.0, -88.1766419175 40.1202150207 0.0, -88.1768179175 40.1202130207 0.0, -88.1769649175 40.1202120207 0.0, -88.1782499175 40.1202110207 0.0, -88.1784019175 40.1202040207 0.0, -88.1784059175 40.1203260207 0.0, -88.1792599175 40.1203280207 0.0, -88.1816079175 40.1203290207 0.0, -88.1824299175 40.1200660207 0.0, -88.1824089175 40.1173000207 0.0, -88.1807259175 40.1173310207 0.0, -88.1806299175 40.1171130207 0.0, -88.1811709175 40.1169170207 0.0, -88.1816009175 40.1167800207 0.0, -88.1818049175 40.1167260207 0.0, -88.1819479175 40.1167010207 0.0, -88.1820629175 40.1166910207 0.0, -88.1822129175 40.1166940207 0.0, -88.1824109175 40.1167100207 0.0, -88.1824239175 40.1163500207 0.0, -88.1826459175 40.1162980207 0.0, -88.1826689175 40.1162910207 0.0, -88.1830379175 40.1163590207 0.0, -88.1836169175 40.1160790207 0.0, -88.1835749175 40.1159770207 0.0, -88.1834889175 40.1158410207 0.0, -88.1833139175 40.1156000207 0.0, -88.1831949175 40.1154350207 0.0, -88.1831939175 40.1153800207 0.0, -88.1830609175 40.1152600207 0.0, -88.1829599175 40.1152110207 0.0, -88.1829039175 40.1151820207 0.0, -88.1827429175 40.1151260207 0.0, -88.1822469175 40.1149620207 0.0, -88.1824519175 40.1146380207 0.0, -88.1840769175 40.1154400207 0.0, -88.1840879175 40.1155460207 0.0, -88.1841899175 40.1156240207 0.0, -88.1843239175 40.1155930207 0.0, -88.1843919175 40.1154390207 0.0, -88.1844079175 40.1147800207 0.0, -88.1813409175 40.1139300207 0.0, -88.1784809175 40.1138370207 0.0, -88.1767589175 40.1137740207 0.0, -88.1764899175 40.1137630207 0.0, -88.1764779175 40.1130800207 0.0, -88.1758409175 40.1134690207 0.0, -88.1756499175 40.1134660207 0.0, -88.1755869175 40.1137260207 0.0, -88.1753139175 40.1137120207 0.0, -88.1748739175 40.1136890207 0.0, -88.1745559175 40.1136630207 0.0, -88.1743469175 40.1136460207 0.0, -88.1743859175 40.1129710207 0.0, -88.1733349175 40.1128390207 0.0, -88.1716689174 40.1125820207 0.0, -88.1716709174 40.1125620207 0.0, -88.1716949174 40.1123210207 0.0, -88.1725979174 40.1124550207 0.0, -88.1737999175 40.1126020207 0.0, -88.1737999175 40.1124370207 0.0, -88.1738469175 40.1119480207 0.0, -88.1738309175 40.1117520207 0.0, -88.1743599175 40.1117580207 0.0, -88.1746079175 40.1117440207 0.0, -88.1744889175 40.1116720207 0.0, -88.1743269175 40.1116020207 0.0, -88.1741719175 40.1115480207 0.0, -88.1749859175 40.1116600207 0.0, -88.1749789175 40.1125490207 0.0, -88.1749789175 40.1126950207 0.0, -88.1750809175 40.1127200207 0.0, -88.1750809175 40.1126100207 0.0, -88.1750569175 40.1121250207 0.0, -88.1753379175 40.1121180207 0.0, -88.1753389175 40.1119360207 0.0, -88.1753369175 40.1117590207 0.0, -88.1750509175 40.1117560207 0.0, -88.1750499175 40.1114790207 0.0, -88.1753849175 40.1114860207 0.0, -88.1750249175 40.1111630207 0.0, -88.1749819175 40.1110370207 0.0, -88.1752579175 40.1108370207 0.0, -88.1759679175 40.1104040207 0.0, -88.1761019175 40.1102170207 0.0, -88.1762679175 40.1102280207 0.0, -88.1764299175 40.1102530207 0.0, -88.1766149175 40.1105340207 0.0, -88.1767309175 40.1107380207 0.0, -88.1768209175 40.1107970207 0.0, -88.1767359175 40.1109060207 0.0, -88.1765199175 40.1114630207 0.0, -88.1761699175 40.1114650207 0.0, -88.1762959175 40.1115460207 0.0, -88.1762189175 40.1115400207 0.0, -88.1761939175 40.1117750207 0.0, -88.1763029175 40.1125100207 0.0, -88.1761279175 40.1126640207 0.0, -88.1763779175 40.1129040207 0.0, -88.1765559175 40.1129150207 0.0, -88.1784699175 40.1129250207 0.0, -88.1814569175 40.1128900207 0.0, -88.1814569175 40.1125640207 0.0, -88.1814619175 40.1079790207 0.0, -88.1814619175 40.1074130207 0.0, -88.1768009175 40.1074150207 0.0, -88.1765729175 40.1071090207 0.0, -88.1765129175 40.1070350207 0.0, -88.1766539175 40.1069030207 0.0, -88.1766279175 40.1068750207 0.0, -88.1768009175 40.1067350207 0.0, -88.1768009175 40.1066000207 0.0, -88.1768009175 40.1064000207 0.0, -88.1766969175 40.1061760207 0.0, -88.1766969175 40.1059450207 0.0, -88.1762109175 40.1059400207 0.0, -88.1759069175 40.1059400207 0.0, -88.1735559175 40.1059700207 0.0, -88.1714459174 40.1062850207 0.0, -88.1714469174 40.1058390207 0.0, -88.1714339174 40.1048620207 0.0, -88.1708599174 40.1048470207 0.0, -88.1708699174 40.1058440207 0.0, -88.1708689174 40.1059500207 0.0, -88.1701049174 40.1059790207 0.0, -88.1693199174 40.1064230207 0.0, -88.1693649174 40.1065060207 0.0, -88.1691999174 40.1067370207 0.0, -88.1680439174 40.1072790207 0.0, -88.1672949174 40.1072880207 0.0, -88.1672949174 40.1073690207 0.0, -88.1673219174 40.1109130207 0.0, -88.1679829174 40.1109030207 0.0, -88.1679829174 40.1112340207 0.0, -88.1673769174 40.1112420207 0.0, -88.1673839174 40.1115350207 0.0, -88.1675529174 40.1117630207 0.0, -88.1675269174 40.1121020207 0.0, -88.1674479174 40.1120890207 0.0, -88.1673599174 40.1120430207 0.0, -88.1673349174 40.1120070207 0.0, -88.1673189174 40.1119250207 0.0, -88.1672219174 40.1128150207 0.0, -88.1672319174 40.1131170207 0.0, -88.1675469174 40.1131170207 0.0, -88.1680189174 40.1130980207 0.0, -88.1684069174 40.1131310207 0.0, -88.1692469174 40.1131690207 0.0, -88.1692659174 40.1133610207 0.0, -88.1692409174 40.1134160207 0.0, -88.1691729174 40.1135700207 0.0, -88.1696579174 40.1136790207 0.0, -88.1697669174 40.1136830207 0.0, -88.1718509174 40.1137170207 0.0, -88.1720109174 40.1137320207 0.0, -88.1721299174 40.1137210207 0.0, -88.1721309174 40.1156910207 0.0, -88.1714179174 40.1161910207 0.0, -88.1711279174 40.1163130207 0.0, -88.1714769174 40.1166220207 0.0, -88.1709479174 40.1166680207 0.0, -88.1709869174 40.1173050207 0.0, -88.1712709174 40.1173190207 0.0, -88.1711829174 40.1175700207 0.0, -88.1709859174 40.1175700207 0.0, -88.1709859174 40.1173780207 0.0, -88.1709479174 40.1173820207 0.0, -88.1709529174 40.1175700207 0.0, -88.1707459174 40.1175740207 0.0, -88.1708329174 40.1172840207 0.0, -88.1707219174 40.1172560207 0.0, -88.1707789174 40.1167730207 0.0, -88.1704359174 40.1166170207 0.0, -88.1701479174 40.1164870207 0.0, -88.1699269174 40.1162650207 0.0, -88.1697899174 40.1161270207 0.0, -88.1696019174 40.1162110207 0.0, -88.1690339174 40.1164630207 0.0, -88.1689809174 40.1163260207 0.0, -88.1688749174 40.1163850207 0.0, -88.1685829174 40.1165760207 0.0, -88.1683049174 40.1167250207 0.0, -88.1671919174 40.1172980207 0.0, -88.1670389174 40.1171350207 0.0, -88.1665329174 40.1172730207 0.0, -88.1656399174 40.1164580207 0.0, -88.1653979174 40.1162120207 0.0, -88.1657359174 40.1159960207 0.0, -88.1655299174 40.1157080207 0.0, -88.1654279174 40.1155740207 0.0, -88.1657589174 40.1153780207 0.0, -88.1662679174 40.1150760207 0.0, -88.1663309174 40.1152210207 0.0, -88.1663649174 40.1152600207 0.0, -88.1667539174 40.1156950207 0.0, -88.1671209174 40.1155630207 0.0, -88.1679649174 40.1166390207 0.0, -88.1687469174 40.1161240207 0.0, -88.1688439174 40.1160670207 0.0, -88.1693419174 40.1157410207 0.0, -88.1693809174 40.1157160207 0.0, -88.1691079174 40.1154500207 0.0, -88.1689479174 40.1152950207 0.0, -88.1684049174 40.1155320207 0.0, -88.1683889174 40.1155140207 0.0, -88.1683079174 40.1154250207 0.0, -88.1681379174 40.1152050207 0.0, -88.1680539174 40.1150540207 0.0, -88.1679739174 40.1148550207 0.0, -88.1679559174 40.1148010207 0.0, -88.1678969174 40.1145000207 0.0, -88.1678889174 40.1144310207 0.0, -88.1678899174 40.1141290207 0.0, -88.1677809174 40.1141280207 0.0, -88.1656089174 40.1141160207 0.0, -88.1655969174 40.1134930207 0.0, -88.1630329174 40.1134170207 0.0, -88.1628459174 40.1133700207 0.0, -88.1627349174 40.1133710207 0.0, -88.1620309174 40.1134660207 0.0, -88.1595199174 40.1134100207 0.0, -88.1567239174 40.1134190207 0.0, -88.1529139174 40.1134500207 0.0, -88.1529209174 40.1133620207 0.0, -88.1567239174 40.1133580207 0.0, -88.1573579174 40.1133550207 0.0, -88.1573649174 40.1131440207 0.0, -88.1573769174 40.1096360207 0.0, -88.1627409174 40.1096080207 0.0, -88.1649289174 40.1095780207 0.0, -88.1649139174 40.1058490207 0.0, -88.1627079174 40.1058640207 0.0, -88.1627089174 40.1059970207 0.0, -88.1626189174 40.1059980207 0.0, -88.1626139174 40.1058650207 0.0, -88.1623569174 40.0980860207 0.0, -88.1616729174 40.0956530207 0.0, -88.1620619174 40.0924700207 0.0, -88.1623449174 40.0931810207 0.0, -88.1670819174 40.0931860207 0.0, -88.1670949174 40.0911650207 0.0, -88.1623149174 40.0911270207 0.0, -88.1619769174 40.0911050207 0.0, -88.1619529174 40.0842640207 0.0, -88.1618169174 40.0841260207 0.0, -88.1618169174 40.0840130207 0.0, -88.1617709174 40.0839450207 0.0, -88.1618169174 40.0837900207 0.0, -88.1621199174 40.0836530207 0.0, -88.1622079174 40.0836530207 0.0, -88.1625629174 40.0836530207 0.0, -88.1626119174 40.0837360207 0.0, -88.1631899174 40.0836680207 0.0, -88.1635679174 40.0839290207 0.0, -88.1636569174 40.0839960207 0.0, -88.1667999174 40.0862260207 0.0, -88.1668099174 40.0839830207 0.0, -88.1667979174 40.0839070207 0.0, -88.1667879174 40.0838450207 0.0, -88.1687489174 40.0836580207 0.0, -88.1767329175 40.0835530207 0.0, -88.1767699175 40.0838600207 0.0, -88.1767749175 40.0855050207 0.0, -88.1791789175 40.0855150207 0.0, -88.1791269175 40.0838490207 0.0, -88.1808489175 40.0817260207 0.0, -88.1810319175 40.0816730207 0.0, -88.1810319175 40.0804130207 0.0, -88.1816609175 40.0794270207 0.0, -88.1819589175 40.0779900207 0.0, -88.1823639175 40.0774000207 0.0, -88.1814409175 40.0769730207 0.0, -88.1813569175 40.0769090207 0.0, -88.1808409175 40.0764410207 0.0, -88.1832119175 40.0764410207 0.0, -88.1851879175 40.0765570207 0.0, -88.1856229175 40.0764340207 0.0, -88.1886189175 40.0765420207 0.0, -88.1897099175 40.0769220207 0.0, -88.1903689175 40.0765090207 0.0, -88.1906699175 40.0765190207 0.0, -88.1913669175 40.0829930207 0.0, -88.1913519175 40.0832200207 0.0, -88.1964479175 40.0834960207 0.0, -88.1995859175 40.0833900207 0.0, -88.1998339175 40.0833670207 0.0, -88.1998369175 40.0765130207 0.0, -88.2004529175 40.0765030207 0.0, -88.2012719175 40.0764890207 0.0, -88.2025059175 40.0764650207 0.0, -88.2033949175 40.0765390207 0.0, -88.2093269175 40.0765170207 0.0, -88.2093359175 40.0777740207 0.0, -88.2093719175 40.0814920207 0.0, -88.2094059175 40.0831970207 0.0, -88.2094089175 40.0834010207 0.0, -88.2098209175 40.0835020207 0.0, -88.2112089175 40.0835030207 0.0, -88.2139359175 40.0834310207 0.0, -88.2140629175 40.0835190207 0.0, -88.2140609175 40.0836130207 0.0, -88.2140879175 40.0879070207 0.0, -88.2141629175 40.0909700207 0.0, -88.2142149175 40.0909700207 0.0, -88.2143089175 40.0923970207 0.0, -88.2142409175 40.0924000207 0.0, -88.2140569175 40.0949260207 0.0, -88.2140579175 40.0949960207 0.0, -88.2141649175 40.0950070207 0.0, -88.2183589175 40.0945610207 0.0, -88.2190259175 40.0945640207 0.0, -88.2206659175 40.0945720207 0.0, -88.2216319175 40.0945630207 0.0, -88.2225039175 40.0945710207 0.0, -88.2233759175 40.0945650207 0.0, -88.2237639175 40.0945540207 0.0, -88.2259989175 40.0945110207 0.0, -88.2267469175 40.0945050207 0.0, -88.2286039175 40.0944910207 0.0, -88.2286159175 40.0949660207 0.0, -88.2285969175 40.0955070207 0.0, -88.2286569175 40.0959180207 0.0, -88.2286919175 40.0980650207 0.0, -88.2286939175 40.0981470207 0.0, -88.2269239175 40.0981560207 0.0, -88.2240869175 40.0981750207 0.0, -88.2237399175 40.0981800207 0.0, -88.2234409175 40.0981720207 0.0, -88.2234499175 40.1004330207 0.0, -88.2236539175 40.1004270207 0.0, -88.2264209175 40.1003290207 0.0, -88.2285669175 40.1003600207 0.0, -88.2286709175 40.1003250207 0.0, -88.2288589175 40.1003470207 0.0, -88.2288369175 40.1005780207 0.0, -88.2288519175 40.1014780207 0.0, -88.2287219175 40.1014850207 0.0, -88.2286329175 40.1014980207 0.0, -88.2287329175 40.1014980207 0.0, -88.2288339175 40.1014970207 0.0, -88.2288539175 40.1022540207 0.0, -88.2288539175 40.1030760207 0.0, -88.2288799175 40.1041940207 0.0, -88.2289289175 40.1054880207 0.0, -88.2287249175 40.1054870207 0.0, -88.2287269175 40.1059510207 0.0, -88.2287579175 40.1091430207 0.0, -88.2288239175 40.1103320207 0.0, -88.2287969175 40.1111530207 0.0, -88.2288119175 40.1122470207 0.0, -88.2288169175 40.1127440207 0.0, -88.2288259175 40.1135150207 0.0, -88.2288599175 40.1163890207 0.0, -88.2287709175 40.1163870207 0.0, -88.2287849175 40.1173860207 0.0, -88.2287939175 40.1183480207 0.0, -88.2287969175 40.1188370207 0.0, -88.2287979175 40.1189340207 0.0, -88.2288029175 40.1189820207 0.0, -88.2287969175 40.1191140207 0.0, -88.2288009175 40.1193220207 0.0, -88.2288219175 40.1202710207 0.0, -88.2288349175 40.1207790207 0.0, -88.2288319175 40.1212280207 0.0, -88.2288369175 40.1221790207 0.0, -88.2288459175 40.1226230207 0.0, -88.2288509175 40.1231300207 0.0, -88.2288569175 40.1238470207 0.0, -88.2289639175 40.1236620207 0.0, -88.2289699175 40.1238710207 0.0, -88.2289819175 40.1246900207 0.0, -88.2288669175 40.1246850207 0.0, -88.2279839175 40.1246830207 0.0, -88.2279919175 40.1250810207 0.0, -88.2280059175 40.1258480207 0.0, -88.2289069175 40.1258470207 0.0, -88.2288989175 40.1260710207 0.0, -88.2288719175 40.1262580207 0.0, -88.2288739175 40.1273390207 0.0, -88.2285949175 40.1273420207 0.0, -88.2284139175 40.1273430207 0.0, -88.2276389175 40.1273430207 0.0, -88.2267119175 40.1273540207 0.0, -88.2259709175 40.1273620207 0.0, -88.2259809175 40.1274940207 0.0, -88.2259989175 40.1277740207 0.0, -88.2252769175 40.1286210207 0.0, -88.2256409175 40.1286220207 0.0, -88.2262929175 40.1286210207 0.0, -88.2262929175 40.1289730207 0.0, -88.2267949175 40.1289690207 0.0, -88.2281079175 40.1290110207 0.0, -88.2281079175 40.1293810207 0.0, -88.2290699175 40.1293820207 0.0, -88.2290699175 40.1305940207 0.0, -88.2290679175 40.1309360207 0.0, -88.2290699175 40.1312990207 0.0, -88.2290749175 40.1318150207 0.0, -88.2304019175 40.1318150207 0.0, -88.2319759175 40.1318150207 0.0, -88.2319759175 40.1323970207 0.0, -88.2331429175 40.1320830207 0.0, -88.2329359175 40.1323970207 0.0, -88.2323009175 40.1332700207 0.0, -88.2315749175 40.1342280207 0.0, -88.2313059175 40.1346390207 0.0, -88.2312399175 40.1347400207 0.0, -88.2312129175 40.1348050207 0.0, -88.2311779175 40.1348860207 0.0, -88.2311429175 40.1349710207 0.0, -88.2310099175 40.1352910207 0.0, -88.2304159175 40.1352900207 0.0, -88.2304189175 40.1349810207 0.0, -88.2304179175 40.1348970207 0.0, -88.2304179175 40.1348120207 0.0, -88.2304179175 40.1345620207 0.0, -88.2304169175 40.1324890207 0.0, -88.2297869175 40.1324870207 0.0, -88.2290699175 40.1324970207 0.0, -88.2290449175 40.1345780207 0.0, -88.2290539175 40.1348270207 0.0, -88.2290539175 40.1348890207 0.0, -88.2290549175 40.1349930207 0.0, -88.2290489175 40.1351510207 0.0, -88.2278159175 40.1351100207 0.0, -88.2277529175 40.1350750207 0.0, -88.2264379175 40.1355180207 0.0, -88.2261509175 40.1359740207 0.0, -88.2261639175 40.1387130207 0.0, -88.2268259175 40.1387140207 0.0, -88.2275869175 40.1387140207 0.0, -88.2291719175 40.1387150207 0.0, -88.2289909175 40.1390060207 0.0, -88.2286259175 40.1395740207 0.0, -88.2286869175 40.1395850207 0.0, -88.2273959175 40.1416620207 0.0, -88.2273409175 40.1416560207 0.0, -88.2272299175 40.1415450207 0.0, -88.2264209175 40.1434240207 0.0, -88.2264819175 40.1434270207 0.0, -88.2262759175 40.1438510207 0.0, -88.2258559175 40.1447190207 0.0, -88.2259949175 40.1447100207 0.0, -88.2255769175 40.1455800207 0.0, -88.2254949175 40.1455690207 0.0, -88.2254079175 40.1455320207 0.0, -88.2252249175 40.1459560207 0.0, -88.2249469175 40.1465970207 0.0, -88.2249859175 40.1467920207 0.0, -88.2234729175 40.1498430207 0.0, -88.2246669175 40.1498480207 0.0, -88.2235199175 40.1527330207 0.0, -88.2201339175 40.1527280207 0.0, -88.2201439175 40.1498470207 0.0, -88.2197009175 40.1498420207 0.0, -88.2185719175 40.1498290207 0.0, -88.2191849175 40.1488380207 0.0, -88.2188249175 40.1486320207 0.0, -88.2189409175 40.1484890207 0.0, -88.2192799175 40.1486780207 0.0, -88.2194239175 40.1484630207 0.0, -88.2195499175 40.1483400207 0.0, -88.2197739175 40.1481890207 0.0, -88.2199469175 40.1481120207 0.0, -88.2204149175 40.1479460207 0.0, -88.2208229175 40.1478260207 0.0, -88.2210639175 40.1477390207 0.0, -88.2212199175 40.1476660207 0.0, -88.2213489175 40.1475940207 0.0, -88.2217469175 40.1473410207 0.0, -88.2227679175 40.1466280207 0.0, -88.2228579175 40.1465360207 0.0, -88.2209099175 40.1465360207 0.0, -88.2199979175 40.1465410207 0.0, -88.2199949175 40.1459850207 0.0, -88.2199859175 40.1448830207 0.0, -88.2199689175 40.1443770207 0.0, -88.2199729175 40.1439060207 0.0, -88.2202739175 40.1439040207 0.0, -88.2233359175 40.1438870207 0.0, -88.2233239175 40.1437540207 0.0, -88.2232729175 40.1435770207 0.0, -88.2231409175 40.1432470207 0.0, -88.2230129175 40.1428610207 0.0, -88.2229199175 40.1427080207 0.0, -88.2228479175 40.1426160207 0.0, -88.2227749175 40.1425510207 0.0, -88.2227239175 40.1425230207 0.0, -88.2237399175 40.1418610207 0.0, -88.2246269175 40.1411630207 0.0, -88.2234329175 40.1411830207 0.0, -88.2211479175 40.1411990207 0.0, -88.2203969175 40.1411500207 0.0, -88.2199369175 40.1411530207 0.0, -88.2199459175 40.1404730207 0.0, -88.2199359175 40.1402980207 0.0, -88.2198789175 40.1397050207 0.0, -88.2197109175 40.1388060207 0.0, -88.2196649175 40.1383530207 0.0, -88.2196469175 40.1381180207 0.0, -88.2194189175 40.1383740207 0.0, -88.2192349175 40.1384130207 0.0, -88.2188959175 40.1384470207 0.0, -88.2175039175 40.1382200207 0.0, -88.2162649175 40.1382180207 0.0, -88.2160989175 40.1384450207 0.0, -88.2160899175 40.1382250207 0.0, -88.2160899175 40.1368860207 0.0, -88.2138159175 40.1368890207 0.0, -88.2138149175 40.1355570207 0.0, -88.2138159175 40.1351950207 0.0, -88.2138159175 40.1351520207 0.0, -88.2138159175 40.1350770207 0.0, -88.2138159175 40.1350030207 0.0, -88.2138199175 40.1347450207 0.0, -88.2138249175 40.1344180207 0.0, -88.2148639175 40.1344440207 0.0, -88.2151039175 40.1344010207 0.0, -88.2151159175 40.1346880207 0.0, -88.2151179175 40.1347450207 0.0, -88.2151269175 40.1349580207 0.0, -88.2151299175 40.1349970207 0.0, -88.2151339175 40.1350610207 0.0, -88.2151379175 40.1351250207 0.0, -88.2151339175 40.1352110207 0.0, -88.2151179175 40.1354070207 0.0, -88.2151189175 40.1367810207 0.0, -88.2154419175 40.1367820207 0.0, -88.2156149175 40.1367810207 0.0, -88.2155639175 40.1366850207 0.0, -88.2155249175 40.1354130207 0.0, -88.2154169175 40.1354130207 0.0, -88.2154169175 40.1352200207 0.0, -88.2154169175 40.1351240207 0.0, -88.2154189175 40.1350610207 0.0, -88.2154209175 40.1349970207 0.0, -88.2154219175 40.1349520207 0.0, -88.2154309175 40.1346920207 0.0, -88.2154349175 40.1336490207 0.0, -88.2135959175 40.1331530207 0.0, -88.2131909175 40.1328520207 0.0, -88.2142069175 40.1328520207 0.0, -88.2168619175 40.1328520207 0.0, -88.2168789175 40.1292440207 0.0, -88.2173319175 40.1292140207 0.0, -88.2184049175 40.1292080207 0.0, -88.2195259175 40.1292070207 0.0, -88.2195239175 40.1287370207 0.0, -88.2175789175 40.1286840207 0.0, -88.2169979175 40.1287060207 0.0, -88.2170179175 40.1282890207 0.0, -88.2168979175 40.1282430207 0.0, -88.2167199175 40.1277770207 0.0, -88.2161359175 40.1277720207 0.0, -88.2161369175 40.1273880207 0.0, -88.2166669175 40.1272260207 0.0, -88.2174929175 40.1273480207 0.0, -88.2174889175 40.1255540207 0.0, -88.2193749175 40.1255460207 0.0, -88.2193869175 40.1254660207 0.0, -88.2193909175 40.1253600207 0.0, -88.2193929175 40.1252220207 0.0, -88.2176319175 40.1252220207 0.0, -88.2176319175 40.1248180207 0.0, -88.2176319175 40.1242950207 0.0, -88.2176319175 40.1241840207 0.0, -88.2176319175 40.1241330207 0.0, -88.2158139175 40.1241130207 0.0, -88.2158109175 40.1240090207 0.0, -88.2158049175 40.1237240207 0.0, -88.2157969175 40.1233470207 0.0, -88.2157789175 40.1216640207 0.0, -88.2157399175 40.1201050207 0.0, -88.2146529175 40.1201190207 0.0, -88.2145119175 40.1201110207 0.0, -88.2144789175 40.1200990207 0.0, -88.2144529175 40.1200680207 0.0, -88.2144359175 40.1199970207 0.0, -88.2131689175 40.1200010207 0.0, -88.2131649175 40.1212920207 0.0, -88.2120969175 40.1217620207 0.0, -88.2098679175 40.1217200207 0.0, -88.2099439175 40.1217590207 0.0, -88.2101419175 40.1247340207 0.0, -88.2102439175 40.1249350207 0.0, -88.2158319175 40.1249310207 0.0, -88.2158489175 40.1255710207 0.0, -88.2158469175 40.1266400207 0.0, -88.2158569175 40.1272030207 0.0, -88.2158889175 40.1273840207 0.0, -88.2159509175 40.1276020207 0.0, -88.2160229175 40.1277740207 0.0, -88.2162819175 40.1283760207 0.0, -88.2119449175 40.1283930207 0.0, -88.2119389175 40.1277810207 0.0, -88.2119269175 40.1266920207 0.0, -88.2119319175 40.1257310207 0.0, -88.2103729175 40.1257270207 0.0, -88.2100839175 40.1260110207 0.0, -88.2100839175 40.1266010207 0.0, -88.2103709175 40.1275050207 0.0, -88.2098439175 40.1274850207 0.0, -88.2093419175 40.1274760207 0.0, -88.2077349175 40.1274910207 0.0, -88.2077159175 40.1266980207 0.0, -88.2077099175 40.1257520207 0.0, -88.2076989175 40.1253910207 0.0, -88.2065209175 40.1254200207 0.0, -88.2065299175 40.1257650207 0.0, -88.2053569175 40.1257740207 0.0, -88.2053609175 40.1259180207 0.0, -88.2051379175 40.1259220207 0.0, -88.2051369175 40.1262060207 0.0, -88.2048379175 40.1262030207 0.0, -88.2048339175 40.1259280207 0.0, -88.2048379175 40.1255510207 0.0, -88.2041909175 40.1255510207 0.0, -88.2040049175 40.1255510207 0.0, -88.2040049175 40.1259460207 0.0, -88.2040049175 40.1274030207 0.0, -88.2034809175 40.1273830207 0.0, -88.2027549175 40.1273750207 0.0, -88.2027339175 40.1287430207 0.0, -88.2023509175 40.1311240207 0.0, -88.2022819175 40.1315510207 0.0, -88.2022689175 40.1315530207 0.0, -88.2021439175 40.1315030207 0.0, -88.2020699175 40.1314910207 0.0, -88.2017839175 40.1314820207 0.0, -88.2017189175 40.1321410207 0.0, -88.2008119175 40.1321390207 0.0, -88.2006979175 40.1321370207 0.0, -88.2006939175 40.1319940207 0.0, -88.1999289175 40.1320220207 0.0, -88.1999289175 40.1321380207 0.0, -88.1999059175 40.1323760207 0.0, -88.2007019175 40.1324140207 0.0, -88.2007269175 40.1324200207 0.0, -88.2007569175 40.1330250207 0.0, -88.2007059175 40.1329910207 0.0, -88.2006389175 40.1329570207 0.0, -88.1999229175 40.1329570207 0.0, -88.1999129175 40.1342790207 0.0, -88.1999179175 40.1344570207 0.0, -88.1999209175 40.1345500207 0.0, -88.1999219175 40.1346170207 0.0, -88.1999239175 40.1346820207 0.0, -88.1999249175 40.1347620207 0.0, -88.1999239175 40.1349370207 0.0, -88.1999079175 40.1357770207 0.0, -88.2007679175 40.1358190207 0.0, -88.2007699175 40.1359180207 0.0, -88.2015339175 40.1359170207 0.0, -88.2013359175 40.1350860207 0.0, -88.2013319175 40.1348760207 0.0, -88.2013309175 40.1347980207 0.0, -88.2013309175 40.1347240207 0.0, -88.2013279175 40.1345130207 0.0, -88.2015249175 40.1345330207 0.0, -88.2024829175 40.1346320207 0.0, -88.2033709175 40.1347070207 0.0, -88.2041569175 40.1347470207 0.0, -88.2042899175 40.1347530207 0.0, -88.2046039175 40.1347720207 0.0, -88.2048359175 40.1347850207 0.0, -88.2048469175 40.1350060207 0.0, -88.2048499175 40.1350600207 0.0, -88.2048339175 40.1351640207 0.0, -88.2047919175 40.1353690207 0.0, -88.2048139175 40.1369300207 0.0, -88.2055039175 40.1369330207 0.0, -88.2066449175 40.1369300207 0.0, -88.2091939175 40.1369300207 0.0, -88.2091759175 40.1382260207 0.0, -88.2085529175 40.1382510207 0.0, -88.2076739175 40.1382680207 0.0, -88.2048439175 40.1378040207 0.0, -88.2035919175 40.1377160207 0.0, -88.2007909175 40.1380940207 0.0, -88.2007889175 40.1383340207 0.0, -88.2007859175 40.1386020207 0.0, -88.2008039175 40.1395350207 0.0, -88.2007859175 40.1405240207 0.0, -88.2008019175 40.1418760207 0.0, -88.2008039175 40.1419470207 0.0, -88.2008179175 40.1424490207 0.0, -88.2008059175 40.1432540207 0.0, -88.2008109175 40.1441470207 0.0, -88.2049289175 40.1441510207 0.0, -88.2103939175 40.1441630207 0.0, -88.2103869175 40.1455970207 0.0, -88.2008439175 40.1456110207 0.0, -88.2008749175 40.1474130207 0.0, -88.2008729175 40.1481760207 0.0, -88.2009009175 40.1492400207 0.0, -88.1968339175 40.1493260207 0.0, -88.1968299175 40.1530360207 0.0, -88.1960729175 40.1530350207 0.0, -88.1960739175 40.1494520207 0.0, -88.1960749175 40.1493260207 0.0, -88.1914129175 40.1493280207 0.0, -88.1914129175 40.1479540207 0.0, -88.1912499175 40.1474630207 0.0, -88.1879109175 40.1474150207 0.0, -88.1877049175 40.1474130207 0.0, -88.1875559175 40.1474180207 0.0, -88.1874769175 40.1474230207 0.0, -88.1873549175 40.1474030207 0.0, -88.1881019175 40.1455740207 0.0, -88.1866579175 40.1455740207 0.0, -88.1866539175 40.1447300207 0.0, -88.1858379175 40.1447330207 0.0, -88.1818169175 40.1447340207 0.0, -88.1818149175 40.1430570207 0.0, -88.1823289175 40.1430570207 0.0, -88.1835569175 40.1430560207 0.0, -88.1835569175 40.1424970207 0.0, -88.1835549175 40.1420360207 0.0, -88.1838049175 40.1419450207 0.0, -88.1843089175 40.1419410207 0.0, -88.1859319175 40.1419480207 0.0, -88.1859189175 40.1420110207 0.0, -88.1860429175 40.1437480207 0.0, -88.1893699175 40.1437390207 0.0, -88.1903689175 40.1420780207 0.0, -88.1901999175 40.1420780207 0.0, -88.1902949175 40.1419870207 0.0, -88.1904739175 40.1417760207 0.0, -88.1903779175 40.1417760207 0.0, -88.1909809175 40.1410890207 0.0, -88.1915929175 40.1400520207 0.0, -88.1920639175 40.1395770207 0.0, -88.1922439175 40.1395800207 0.0, -88.1961249175 40.1402760207 0.0, -88.1965159175 40.1371350207 0.0, -88.1942369175 40.1368860207 0.0, -88.1940439175 40.1371370207 0.0, -88.1939129175 40.1374280207 0.0, -88.1938989175 40.1376850207 0.0, -88.1939879175 40.1380360207 0.0, -88.1942529175 40.1384630207 0.0, -88.1944329175 40.1388890207 0.0, -88.1944399175 40.1393920207 0.0, -88.1944469175 40.1394410207 0.0, -88.1944549175 40.1394650207 0.0, -88.1939449175 40.1394730207 0.0, -88.1936769175 40.1394620207 0.0, -88.1934109175 40.1394160207 0.0, -88.1930369175 40.1393060207 0.0, -88.1926159175 40.1391540207 0.0, -88.1923929175 40.1393540207 0.0, -88.1922089175 40.1392380207 0.0, -88.1920819175 40.1392320207 0.0, -88.1918729175 40.1389590207 0.0, -88.1912759175 40.1388940207 0.0, -88.1908219175 40.1388600207 0.0, -88.1904819175 40.1388790207 0.0, -88.1889229175 40.1373760207 0.0, -88.1889269175 40.1356660207 0.0, -88.1914729175 40.1356680207 0.0, -88.1914719175 40.1347010207 0.0, -88.1932899175 40.1344900207 0.0, -88.1932129175 40.1343530207 0.0, -88.1929749175 40.1339290207 0.0, -88.1928889175 40.1338060207 0.0, -88.1927709175 40.1336840207 0.0, -88.1926879175 40.1336330207 0.0, -88.1924809175 40.1335330207 0.0, -88.1907779175 40.1325780207 0.0, -88.1925159175 40.1331180207 0.0, -88.1926179175 40.1331120207 0.0, -88.1926559175 40.1330590207 0.0, -88.1926899175 40.1330040207 0.0, -88.1929859175 40.1329170207 0.0, -88.1931729175 40.1329110207 0.0, -88.1933539175 40.1328930207 0.0, -88.1937289175 40.1327910207 0.0, -88.1939179175 40.1327180207 0.0, -88.1948749175 40.1322540207 0.0, -88.1950399175 40.1321840207 0.0, -88.1952019175 40.1321330207 0.0, -88.1953129175 40.1321150207 0.0, -88.1954639175 40.1321050207 0.0, -88.1955859175 40.1321110207 0.0, -88.1957429175 40.1321390207 0.0, -88.1959609175 40.1322030207 0.0, -88.1967669175 40.1311070207 0.0, -88.1967959175 40.1310900207 0.0, -88.1968309175 40.1310510207 0.0, -88.1971199175 40.1305430207 0.0, -88.1972599175 40.1302970207 0.0, -88.1973299175 40.1302230207 0.0, -88.1973839175 40.1301440207 0.0, -88.1976639175 40.1301430207 0.0, -88.1977849175 40.1301620207 0.0, -88.1978739175 40.1301860207 0.0, -88.1979859175 40.1302130207 0.0, -88.2001279175 40.1301740207 0.0, -88.2001369175 40.1306900207 0.0, -88.2000549175 40.1306910207 0.0, -88.2000569175 40.1311360207 0.0, -88.1999359175 40.1311410207 0.0, -88.1999339175 40.1316390207 0.0, -88.2006839175 40.1316170207 0.0, -88.2007699175 40.1316120207 0.0, -88.2007919175 40.1318330207 0.0, -88.2012989175 40.1318270207 0.0, -88.2016259175 40.1318030207 0.0, -88.2015959175 40.1314820207 0.0, -88.2015949175 40.1309440207 0.0, -88.2012959175 40.1309500207 0.0, -88.2010809175 40.1309540207 0.0, -88.2010619175 40.1298130207 0.0, -88.2012599175 40.1298090207 0.0, -88.2013999175 40.1298080207 0.0, -88.2013919175 40.1293120207 0.0, -88.2006409175 40.1293330207 0.0, -88.2006389175 40.1288660207 0.0, -88.2006349175 40.1287110207 0.0, -88.2002289175 40.1286960207 0.0, -88.2001129175 40.1284980207 0.0, -88.2000269175 40.1286860207 0.0, -88.1998959175 40.1289780207 0.0, -88.1995509175 40.1288880207 0.0, -88.1996589175 40.1287490207 0.0, -88.1993919175 40.1287200207 0.0, -88.1995309175 40.1284570207 0.0, -88.1991519175 40.1282650207 0.0, -88.1987179175 40.1289240207 0.0, -88.1985569175 40.1288740207 0.0, -88.1975859175 40.1285160207 0.0, -88.1967099175 40.1279720207 0.0, -88.1958749175 40.1280110207 0.0, -88.1958719175 40.1274570207 0.0, -88.1970329175 40.1274510207 0.0, -88.1970329175 40.1269470207 0.0, -88.1970259175 40.1263450207 0.0, -88.1970219175 40.1258790207 0.0, -88.1970219175 40.1256070207 0.0, -88.1967139175 40.1256080207 0.0, -88.1958349175 40.1256080207 0.0, -88.1958299175 40.1251640207 0.0, -88.1958299175 40.1242730207 0.0, -88.1958299175 40.1237770207 0.0, -88.1946619175 40.1237760207 0.0, -88.1945519175 40.1240560207 0.0, -88.1945489175 40.1234890207 0.0, -88.1946519175 40.1232600207 0.0, -88.1958339175 40.1232750207 0.0, -88.1958339175 40.1229220207 0.0, -88.1958339175 40.1220940207 0.0, -88.1958289175 40.1201130207 0.0, -88.1933739175 40.1201130207 0.0, -88.1928669175 40.1201130207 0.0, -88.1910529175 40.1201060207 0.0, -88.1905199175 40.1202440207 0.0, -88.1901289175 40.1204750207 0.0, -88.1898849175 40.1206320207 0.0, -88.1895979175 40.1207850207 0.0, -88.1891479175 40.1210010207 0.0, -88.1877589175 40.1217140207 0.0, -88.1874919175 40.1218630207 0.0, -88.1862309175 40.1225240207 0.0, -88.1852429175 40.1231700207 0.0, -88.1861079175 40.1231830207 0.0, -88.1861089175 40.1245110207 0.0, -88.1865039175 40.1245100207 0.0, -88.1864949175 40.1274700207 0.0, -88.1864899175 40.1276230207 0.0, -88.1855449175 40.1276220207 0.0, -88.1855449175 40.1274870207 0.0))')
      end

      specify 'for multi_point' do
        pending 'creation of MultiPoint object from GeoLocate.'
      end

      specify 'for multi_line_string' do
        pending 'creation of MultiLineString object from GeoLocate.'
      end

      specify 'for multi_polygon' do
        pending 'creation of MultiPolygon object from GeoLocate.'
      end

      specify 'for geometry_collection' do
        pending 'creation of GeometryCollection object from GeoLocate.'
      end

    end
  end
end


